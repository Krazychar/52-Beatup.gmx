<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_magnus_idle</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>p2</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_speed=0.2
image_index=0
room_speed=60
attacking=0
image_yscale=4  
global.p2char="Magnus"
hsp=0
vsp=0
grav=0.3
grounded=0
hitstun=0
hboxhit=0
dashtime=0
angle=0
//special variables
link=false
linktime=0
linkdir=keyboard_check_direct(vk_up)
linkatk=keyboard_check_direct(vk_up)
linkspr=0
FBlv=1
RDlv=1
GBlv=1
//battle variables
agi=3
dashing=0
dashcheck=0
block=0
freakingslickdash=0
dashtimerfinal=0
cancel=0
hp=240
mhp=hp
atk=1
abi=5
projdef=0
dashlng=23
rage=false
nKb=false
coward=false
pH=agi
fastSpec=0
use=5
damage=0
hstun=0
hit=0
xpos=0
ypos=0
xscal=1
yscal=1
launchh=false
airMovementDir = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>612</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>-1</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_if_variable</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>global.roundEnd</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>422</id>
        <kind>1</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///attacking
light=keyboard_check_pressed(ord("Z"))
heavy=keyboard_check_pressed(ord("X"))
launch=keyboard_check_pressed(ord("C"))
//face direction
if(grounded=1 &amp;&amp; attacking=0)
{

if(x &gt; p1.x)
{image_xscale=-4}
else
{image_xscale=4}

}

//if(attacking=1 &amp;&amp; place_meeting(x,y+1,ground) &amp;&amp; dashing=0) hsp=0
if((sprite_index=spr_magnus_light or sprite_index=spr_magnus_heavy or sprite_index=spr_magnus_launch or sprite_index=spr_magnus_forheavy) &amp;&amp; !place_meeting(x,y+1,ground)) 
{
sprite_index=spr_magnus_jump
attacking=0
}

if((sprite_index=spr_magnus_heavyair or sprite_index=spr_magnus_lightair or sprite_index=spr_magnus_launchair) &amp;&amp; place_meeting(x,y+1,ground)) 
{
sprite_index=spr_magnus_idle
freakingslickdash=0
attacking=0
}
if(hitstun&lt;=0)
{
if(place_meeting(x,y+1,ground))
{

if((!left &amp;&amp; image_xscale&lt;0 or !right &amp;&amp; image_xscale&gt;0) &amp;&amp; light &amp;&amp; (attacking=0 or cancel=1) &amp;&amp; sprite_index!=spr_magnus_light &amp;&amp; sprite_index!=spr_magnus_forlight &amp;&amp; sprite_index!=spr_magnus_heavy &amp;&amp; sprite_index!=spr_magnus_launch)
{cancel=0
hboxhit=0
hit=3
damage=9
xscal=2
yscal=3
hstun=35
xpos=hsp+24
ypos=+50
launchh=false
sprite_index=spr_magnus_light
image_index=0
image_speed=0.2
attacking=1
}
if(sprite_index=spr_magnus_light &amp;&amp; image_index&gt;11)
{
sprite_index=spr_magnus_idle
attacking=0
image_index=0
}

if((left &amp;&amp; image_xscale&lt;0 or right &amp;&amp; image_xscale&gt;0) &amp;&amp; light &amp;&amp; (attacking=0 or cancel=1)&amp;&amp; sprite_index!=spr_magnus_forlight &amp;&amp; sprite_index!=spr_magnus_heavy &amp;&amp; sprite_index!=spr_magnus_launch)
{cancel=0
hboxhit=0
hit=3
damage=5
xscal=4
yscal=2
hstun=25
xpos=hsp+22
ypos=+55
launchh=false
sprite_index=spr_magnus_forlight
image_index=0
image_speed=0.2
attacking=1
}
if(sprite_index=spr_magnus_forlight &amp;&amp; image_index&gt;=5 &amp;&amp; hit=3)
{hit=7;hboxhit=0}
if(sprite_index=spr_magnus_forlight &amp;&amp; image_index&gt;12)
{
sprite_index=spr_magnus_idle
attacking=0
image_index=0
}

if((left &amp;&amp; image_xscale&lt;0 or right &amp;&amp; image_xscale&gt;0) &amp;&amp; heavy &amp;&amp; dashing=0 &amp;&amp; (attacking=0 or cancel=1) &amp;&amp; sprite_index!=spr_magnus_forheavy)
{cancel=0
hboxhit=0
hit=6
damage=25
xscal=13
yscal=13
hstun=45
xpos=hsp+50
ypos=0
launchh=false
sprite_index=spr_magnus_forheavy
image_index=0
image_speed=0.2
hsp+=1*image_xscale
attacking=1
}
if(sprite_index=spr_magnus_forheavy &amp;&amp; image_index&gt;16)
{hsp+=3*image_xscale
sprite_index=spr_magnus_idle
attacking=0
image_index=0
}

if(!(left &amp;&amp; image_xscale&lt;0 &amp;&amp; !right &amp;&amp; image_xscale&gt;0) &amp;&amp; heavy &amp;&amp; dashing=0 &amp;&amp; (attacking=0 or cancel=1)&amp;&amp; sprite_index!=spr_magnus_heavy &amp;&amp; sprite_index!=spr_magnus_forheavy &amp;&amp; sprite_index!=spr_magnus_launch)
{cancel=0
hboxhit=0
hit=4
damage=20
xscal=7
yscal=4
hstun=45
xpos=hsp+40
ypos=0
launchh=false
sprite_index=spr_magnus_heavy
image_index=0
image_speed=0.2
hsp+=1*image_xscale
attacking=1
}
if(sprite_index=spr_magnus_heavy &amp;&amp; image_index&gt;11)
{hsp+=3*image_xscale
sprite_index=spr_magnus_idle
attacking=0
image_index=0
}

if(launch &amp;&amp; (attacking=0 or cancel=1) &amp;&amp; sprite_index!=spr_magnus_launch)
{hboxhit=0
cancel=0
hit=5
damage=19
hstun=70
xscal=5
yscal=8
xpos=hsp+45
ypos=-34
launchh=true
sprite_index=spr_magnus_launch
image_index=0
image_speed=0.2
hsp+=1*image_xscale
attacking=1
}
if(sprite_index=spr_magnus_launch &amp;&amp; image_index&gt;11)
{
sprite_index=spr_magnus_idle
attacking=0
image_index=0
}

}
else

{
if(light &amp;&amp; (attacking=0 or cancel=1) &amp;&amp; sprite_index!=spr_magnus_heavyair &amp;&amp; sprite_index!=spr_magnus_launchair  &amp;&amp; sprite_index!=spr_magnus_lightair)
{cancel=0
hboxhit=0
hit=3
damage=8
xscal=3
yscal=2
hstun=32
xpos=hsp+45
ypos=+65
launchh=false
sprite_index=spr_magnus_lightair
image_index=0
image_speed=0.2
attacking=1
}
if(sprite_index=spr_magnus_lightair &amp;&amp; image_index&gt;12)
{
sprite_index=spr_magnus_jump
attacking=0
image_index=0
}


if(heavy &amp;&amp;  !keyboard_check_direct(ord("W")) &amp;&amp; (attacking=0 or cancel=1) &amp;&amp; sprite_index!=spr_magnus_heavyair &amp;&amp; sprite_index!=spr_magnus_launchair)
{cancel=0
hboxhit=0
hit=3
damage=14
xscal=6
yscal=6
hstun=35
xpos=hsp+20
ypos=+25
launchh=false
sprite_index=spr_magnus_heavyair
image_index=0
image_speed=0.2
attacking=1
}
if(sprite_index=spr_magnus_heavyair &amp;&amp; image_index&gt;10)
{
sprite_index=spr_magnus_jump
attacking=0
image_index=0
}


if(launch &amp;&amp; (attacking=0 or cancel=1) &amp;&amp; sprite_index!=spr_magnus_launchair)
{cancel=0
hboxhit=0
hit=4
damage=15
xscal=3
yscal=6
hstun=30
xpos=hsp+20
ypos=45
launchh=false
sprite_index=spr_magnus_launchair
image_index=0
image_speed=0.2
attacking=1
}
if(sprite_index=spr_magnus_launchair &amp;&amp; image_index&gt;11)
{
sprite_index=spr_magnus_jump
attacking=0
image_index=0
}

}

if(attacking=true &amp;&amp; image_index&gt;=hit &amp;&amp; hboxhit=0 &amp;&amp; sprite_index!=spr_magnus_fireball1)
{hboxhit=1
instance_create(x+xpos*(image_xscale/2),y+ypos,p2hbox)
}

}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///input
left=keyboard_check_direct(vk_left)
right=keyboard_check_direct(vk_right)
pleft=keyboard_check_pressed(vk_left)
pright=keyboard_check_pressed(vk_right)
jump=keyboard_check_direct(vk_up)
//move left and right
//if(left or right) hsp=round(hsp)
if(dashing=0 &amp;&amp; block=0 &amp;&amp; hitstun&lt;=0 &amp;&amp; attacking=0)
{
if(pleft &amp;&amp; dashcheck=1 &amp;&amp; sprite_index!=spr_magnus_dash &amp;&amp; sprite_index!=spr_magnus_backdash)
{attacking=2
if(image_xscale=4) sprite_index=spr_magnus_backdash
else sprite_index=spr_magnus_dash
image_index=0
hsp=-13
dashtime=15
dashing=1}
if(pleft &amp;&amp; sprite_index!=spr_magnus_dash &amp;&amp; sprite_index!=spr_magnus_backdash)
{dashtime=17
dashcheck=1}

if(pright &amp;&amp; dashcheck=1 &amp;&amp; sprite_index!=spr_magnus_dash &amp;&amp; sprite_index!=spr_magnus_backdash )
{attacking=2
if(image_xscale=4) sprite_index=spr_magnus_dash
else sprite_index=spr_magnus_backdash
image_index=0
hsp=13
dashtime=15
dashing=1}
if(pright &amp;&amp; sprite_index!=spr_magnus_dash &amp;&amp; sprite_index!=spr_magnus_backdash)
{dashtime=17
dashcheck=1}
}
if(dashtime&lt;=0 &amp;&amp; (sprite_index==spr_magnus_dash or sprite_index==spr_magnus_backdash))
{attacking=0
dashcheck=0
dashing=0
sprite_index=spr_magnus_idle
freakingslickdash=0}

if(sprite_index=spr_magnus_idle) freakingslickdash=0

if(dashtime&gt;0) dashtime-=1

if(dashing=1 &amp;&amp; dashtimerfinal&gt;40 or dashtime&lt;=0)
{dashing=0
dashtimerfinal=0
dashtime=0
dashcheck=0
hsp=0}

if(dashing=1)
{dashtimerfinal++}

if(grounded=0 &amp;&amp; dashing=0)
{dashcheck=0
dashing=0
dashtime=0}

if(attacking==0 &amp;&amp; vsp&lt;0 &amp;&amp; !place_meeting(x,y+3,ground))
{sprite_index=spr_magnus_jump}
if(attacking==0 &amp;&amp; hsp==0 &amp;&amp; grounded=1)
{sprite_index=spr_magnus_idle}
if(attacking=0 or grounded=0)
{
if(dashing=0 &amp;&amp; hitstun&lt;=0)
{
if (left)

{
if(hsp&lt;-agi){}
else
{hsp=-agi}

}

if (right)
{
if(hsp&gt;agi){}
else
{hsp=agi}
}
}
//neutral input = 0 movement
if (((right &amp;&amp; left) or (!right &amp;&amp; !left)))
{
hsp=0

}

}
//jumping
if(dashing=0 &amp;&amp; jump &amp;&amp; grounded=1 &amp;&amp; (attacking!=1 or cancel=1 &amp;&amp; sprite_index=spr_magnus_launch))
{
if(left) airMovementDir = -1;
else if(right) airMovementDir = 1;
else airMovementDir = 0;
grounded=0
if(sprite_index=spr_magnus_launch)
{vsp=-10
instance_create(x,y+64,obj_jumpeffect)}
else
{vsp=-10}
}


//vertical collision
if (place_meeting (x,y+vsp,ground))
{
    while(!place_meeting(x,y+sign(vsp),ground))
    {
    y+=sign(vsp);
    }
    vsp=0
    grounded = 1;
}



else
{
grounded = 0
}
if grounded == 0// &amp;&amp; hitstun == 0
    hsp = agi * airMovementDir;
    
//light player collision
if(place_meeting(x+hsp,y,p1)) hsp=0
if(image_index=2 &amp;&amp; !place_meeting(x+20,y,p1) &amp;&amp; (sprite_index=spr_magnus_heavy or sprite_index=spr_magnus_launch)) hsp =5*image_xscale
//horizontal collision   
if place_meeting(x+hsp,y,ground)
{
    if(!place_meeting(x+sign(hsp),y,ground)) hsp+=sign(hsp);
    hsp = 0;
}    
 
//commit to movement
    

x += hsp;
y += vsp;

vsp+=grav


</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///blocking

if((image_xscale&lt;0 &amp;&amp; right or image_xscale&gt;0 &amp;&amp; left) &amp;&amp; p1.attacking=true &amp;&amp; global.p2combo=0 &amp;&amp; p1.block=0 &amp;&amp; hitstun&lt;=0 &amp;&amp; attacking=false)
{
attacking=1
hsp=0
block=1
sprite_index=spr_magnus_block
}
if(sprite_index=spr_magnus_block &amp;&amp; p1.attacking=false)
{
attacking=0
block=0
sprite_index=spr_magnus_idle
}
if(attacking=false)
{block=0
image_blend=c_white}
if((image_xscale&lt;0 &amp;&amp; !right or image_xscale&gt;0 &amp;&amp; !left) &amp;&amp; block=1)
{block=0
attacking=0}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Special Moves (Holy Heck)
down=keyboard_check_pressed(vk_down)
if(image_xscale&gt;0) 
{
forward=vk_right
backward=vk_left
}
else
{
forward=vk_left
backward=vk_right
}
//Input Checker
if(link=1 &amp;&amp; linktime&lt;=0) linktime=20
if(link!=0) linktime--
if(link!=0 &amp;&amp; linktime&lt;5) {link=0;linktime=0}
if(link=1 &amp;&amp; linktime&gt;4 &amp;&amp; keyboard_check_pressed(linkdir)) {link=2;linktime=20}
if(link=2 &amp;&amp; linktime&gt;4 &amp;&amp; keyboard_check_pressed(ord(linkatk))) {attacking=1;sprite_index=linkspr;image_index=0;hit=0}
//FireBall
if(down &amp;&amp; grounded=1 &amp;&amp; link=0 &amp;&amp; attacking=0)
{
link=1
linkatk="Z"
linkdir=forward
if(FBlv=1)linkspr=spr_magnus_fireball1
if(FBlv=2)linkspr=spr_alan_fireball
if(FBlv=3)linkspr=spr_alan_fireball2
}
//FB1
if(sprite_index=spr_magnus_fireball1 &amp;&amp; image_index&gt;=6 &amp;&amp; hit=0) {hit=1;instance_create(x+8*image_xscale,y+15,obj_magnusfireball)}
if(sprite_index=spr_magnus_fireball1 &amp;&amp; image_index&gt;=11) {attacking=0;sprite_index=spr_magnus_idle}
//FB2
if(sprite_index=spr_alan_fireball &amp;&amp; image_index&gt;=4 &amp;&amp; hit=0) {hit=1;instance_create(x+12*image_xscale,y+16,obj_alanfireball);}
if(sprite_index=spr_alan_fireball &amp;&amp; image_index&gt;=13) {attacking=0;sprite_index=spr_alan_idle}
//FB3
if(sprite_index=spr_alan_fireball2 &amp;&amp; image_index&gt;=2 &amp;&amp; hit=0) {hit=1;}
if(sprite_index=spr_alan_fireball2 &amp;&amp; image_index&gt;=7 &amp;&amp; hit=1) {hit=2}
if(sprite_index=spr_alan_fireball2 &amp;&amp; image_index&gt;=18) {attacking=0;sprite_index=spr_alan_idle}



</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///hit
if(hitstun&gt;0)
{
if grounded == 0
    hsp = 0;
hitstun--
if(!place_meeting(x,y+1,ground)) sprite_index=spr_magnus_hit2
else sprite_index=spr_magnus_hit
attacking=1
}
if(hitstun&lt;=0 &amp;&amp; (sprite_index=spr_magnus_hit or sprite_index=spr_magnus_hit2))
{
attacking=0
hitstun=0
sprite_index=spr_magnus_idle
global.p1combo=0
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>424</id>
        <kind>2</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_text(x,y-70,dashtime)

if(global.p1combo=0 &amp;&amp; (sprite_index=spr_rey_dash or sprite_index=spr_rey_backdash or hsp&lt;-3 or hsp&gt;3 or launchh=true or freakingslickdash=1))
{
freakingslickdash=1
draw_set_color(c_blue)
draw_sprite_ext(sprite_index,image_index-image_speed,x-hsp*3,y-vsp*3,image_xscale,4,0,c_aqua,0.4)

}
if(place_meeting(x,y+1,ground))
{freakingslickdash=0}
draw_self()

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
